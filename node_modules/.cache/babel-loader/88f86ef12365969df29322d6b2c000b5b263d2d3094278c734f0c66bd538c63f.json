{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport axios from \"axios\";\nimport { Message } from 'element-ui';\nvar instance = axios.create({\n  // baseURL: \"http://127.0.0.1:8081\",\n  baseURL: \"http://110.40.169.124:6550\",\n  timeout: 10000\n});\n请求拦截器;\ninstance.interceptors.request.use(function (config) {\n  var token = localStorage.getItem(\"token\");\n  if (token) {\n    config.headers = config.headers || {};\n    config.headers[\"token\"] = token;\n  }\n  return config;\n}, function (err) {\n  return Promise.reject(err);\n});\n\n// 响应拦截器\ninstance.interceptors.response.use(function (res) {\n  // 统一管理错误提示\n  var data = res.data;\n  if (data.code !== 0) {\n    Message({\n      message: data.msg || \"网络请求错误\",\n      type: 'error'\n    });\n  }\n  return data;\n}, function (err) {\n  return Promise.reject(err);\n});\nexport default instance;","map":{"version":3,"names":["axios","Message","instance","create","baseURL","timeout","请求拦截器","interceptors","request","use","config","token","localStorage","getItem","headers","err","Promise","reject","response","res","data","code","message","msg","type"],"sources":["C:/Users/zhaojing/Documents/HBuilderProjects/dynamic_passward00/src/request/request.js"],"sourcesContent":["import axios from \"axios\"\r\nimport { Message } from 'element-ui'\r\n\r\nconst instance = axios.create({\r\n    // baseURL: \"http://127.0.0.1:8081\",\r\n    baseURL: \"http://110.40.169.124:6550\",\r\n    timeout: 10000\r\n})\r\n\r\n请求拦截器   \r\ninstance.interceptors.request.use(config => {\r\n    let token = localStorage.getItem(\"token\");\r\n\r\n    if(token){\r\n        config.headers = config.headers || {};\r\n        config.headers[\"token\"] = token;\r\n    }\r\n    return config\r\n}, err => {\r\n    return Promise.reject(err)\r\n})\r\n\r\n// 响应拦截器\r\ninstance.interceptors.response.use(res => {\r\n    // 统一管理错误提示\r\n    let data = res.data  \r\n    if(data.code!==0){\r\n        Message({\r\n            message: data.msg || \"网络请求错误\",\r\n            type: 'error'\r\n        });\r\n        \r\n    }\r\n    return data  \r\n}, err => {\r\n    return Promise.reject(err)\r\n})\r\nexport default instance "],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,YAAY;AAEpC,IAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC1B;EACAC,OAAO,EAAE,4BAA4B;EACrCC,OAAO,EAAE;AACb,CAAC,CAAC;AAEFC,KAAK;AACLJ,QAAQ,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAAAC,MAAM,EAAI;EACxC,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAEzC,IAAGF,KAAK,EAAC;IACLD,MAAM,CAACI,OAAO,GAAGJ,MAAM,CAACI,OAAO,IAAI,CAAC,CAAC;IACrCJ,MAAM,CAACI,OAAO,CAAC,OAAO,CAAC,GAAGH,KAAK;EACnC;EACA,OAAOD,MAAM;AACjB,CAAC,EAAE,UAAAK,GAAG,EAAI;EACN,OAAOC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;AAC9B,CAAC,CAAC;;AAEF;AACAb,QAAQ,CAACK,YAAY,CAACW,QAAQ,CAACT,GAAG,CAAC,UAAAU,GAAG,EAAI;EACtC;EACA,IAAIC,IAAI,GAAGD,GAAG,CAACC,IAAI;EACnB,IAAGA,IAAI,CAACC,IAAI,KAAG,CAAC,EAAC;IACbpB,OAAO,CAAC;MACJqB,OAAO,EAAEF,IAAI,CAACG,GAAG,IAAI,QAAQ;MAC7BC,IAAI,EAAE;IACV,CAAC,CAAC;EAEN;EACA,OAAOJ,IAAI;AACf,CAAC,EAAE,UAAAL,GAAG,EAAI;EACN,OAAOC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;AAC9B,CAAC,CAAC;AACF,eAAeb,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}